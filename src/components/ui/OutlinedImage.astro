---
import { Image } from "astro:assets";

interface Props {
  src: ImageMetadata;
  alt: string;
  class: string;
}

const { src, alt, class: className } = Astro.props;
---

<div class:list={["container", className]}>
  <Image src={src} alt={alt} class="image" />
</div>

<style>
  .image {
    border-radius: inherit;
    width: 100%;
    height: 100%;
    min-height: 0;
    object-fit: cover;
  }

  .container {
    position: relative;
    display: flex;
    flex-direction: column;
  }

  .container::before {
    --border-margin: 30px;

    content: "";
    display: block;
    position: absolute;

    top: calc(-1 * var(--border-margin) / 2);
    left: calc(-1 * var(--border-margin) / 2);

    border: 2px solid rgb(var(--color-primary));
    border-radius: inherit;
    opacity: 0.2;

    width: calc(100% + var(--border-margin));
    height: calc(100% + var(--border-margin));

    z-index: -1;
  }
</style>
